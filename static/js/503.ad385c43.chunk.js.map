{"version":3,"file":"static/js/503.ad385c43.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","components/services/Api.js","webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movie/Movie.module.css?8f7f","pages/Movie/Movie.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__yjDCC\",\"item\":\"MovieList_item__tDivI\",\"title\":\"MovieList_title__QyMtJ\",\"link\":\"MovieList_link__+cn-g\",\"img\":\"MovieList_img__Tmz2C\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './MovieList.module.css';\nimport PropTypes from 'prop-types';\n\nexport function MoviesList({ movies }) {\n  const location = useLocation();\n\n  const elements = movies.map(({ id, title, backdrop_path }) => {\n    return (\n      <li className={s.item} key={id}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={s.link}\n        >\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${backdrop_path}`}\n            alt={title}\n            className={s.img}\n            width=\"200\"\n          />\n          <p className={s.title}>{title}</p>\n        </Link>\n      </li>\n    );\n  });\n  return <ul className={s.list}>{elements}</ul>;\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n    })\n  ),\n};\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '42a5b39371cdee67f851a43d6e8fc07d';\n\nexport const fetchTrending = async () => {\n  const trending = await fetch(`\n${BASE_URL}trending/movie/week?api_key=${API_KEY}`);\n  if (!trending.ok) {\n    throw new Error(trending.status);\n  }\n  const trendingJson = await trending.json();\n  return trendingJson;\n};\n\nexport const fetchSearch = async (query, page = 1) => {\n  const search =\n    await fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}&include_adult=false\n    `);\n  if (!search.ok) {\n    throw new Error(search.status);\n  }\n  const searchJson = await search.json();\n  return searchJson;\n};\n\nexport const fetchDetails = async id => {\n  const details =\n    await fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US\n    `);\n  if (!details.ok) {\n    throw new Error(details.status);\n  }\n  const detailsJson = await details.json();\n  return detailsJson;\n};\n\nexport const fetchCredits = async id => {\n  const credits =\n    await fetch(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US\n    `);\n  if (!credits.ok) {\n    throw new Error(credits.status);\n  }\n  const creditsJson = await credits.json();\n  return creditsJson;\n};\n\nexport const fetchReviews = async id => {\n  const reviews =\n    await fetch(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1\n    `);\n  if (!reviews.ok) {\n    throw new Error(reviews.status);\n  }\n  const reviewsJson = await reviews.json();\n  return reviewsJson;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"form\":\"Searchbar_form__D-hp5\",\"buttonIcon\":\"Searchbar_buttonIcon__bKJRf\",\"input\":\"Searchbar_input__19umw\"};","import s from './Searchbar.module.css';\nimport { BsSearch } from 'react-icons/bs';\nimport { useEffect, useRef, useState } from 'react';\nimport { fetchSearch } from '../services/Api';\nimport { Spinner } from '../Loader/Loader';\nimport { MoviesList } from 'components/MovieList/MovieList';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nexport const Searchbar = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const inputRef = useRef(null);\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    const fetchMoviesByValue = async () => {\n      setIsLoading(true);\n      try {\n        const data = await fetchSearch(query);\n        if (!data.results.length) {\n          navigate('/');\n        }\n        setMovies(data.results);\n      } catch (error) {\n        console.log(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (query) {\n      fetchMoviesByValue();\n    }\n  }, [query, navigate]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const inputValue =\n      inputRef.current.value.trim() !== ''\n        ? { query: inputRef.current.value.trim() }\n        : '';\n    setSearchParams(inputValue);\n  };\n  const value = query ? query : '';\n\n  return (\n    <>\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.buttonIcon}>\n            <BsSearch size=\"15px\" />\n          </button>\n\n          <input\n            ref={inputRef}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            defaultValue={value}\n          />\n        </form>\n      </header>\n      {isLoading && <Spinner />}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Movie_title__dzHgI\"};","import { Searchbar } from '../../components/Searchbar/Searchbar';\nimport s from './Movie.module.css';\n\nfunction Movies() {\n  return (\n    <main>\n      <h2 className={s.title}>Search movie</h2>\n      <Searchbar />\n    </main>\n  );\n}\n\nexport default Movies;\n"],"names":["MoviesList","movies","location","useLocation","elements","map","id","title","backdrop_path","className","s","to","state","from","src","alt","width","BASE_URL","API_KEY","fetchTrending","fetch","trending","ok","Error","status","json","trendingJson","fetchSearch","query","page","search","searchJson","fetchDetails","details","detailsJson","fetchCredits","credits","creditsJson","fetchReviews","reviews","reviewsJson","Searchbar","useState","setMovies","isLoading","setIsLoading","inputRef","useRef","navigate","useNavigate","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMoviesByValue","data","results","length","console","log","message","value","onSubmit","e","preventDefault","inputValue","current","trim","type","size","ref","autoComplete","autoFocus","placeholder","defaultValue"],"sourceRoot":""}