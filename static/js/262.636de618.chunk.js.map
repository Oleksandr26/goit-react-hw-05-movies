{"version":3,"file":"static/js/262.636de618.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://goit-react-hw-05-movies/./src/components/Movie/Movie.module.css?e0b9","components/Movie/Movie.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","components/services/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"form\":\"Searchbar_form__D-hp5\",\"buttonIcon\":\"Searchbar_buttonIcon__bKJRf\",\"input\":\"Searchbar_input__19umw\"};","import s from './Searchbar.module.css';\nimport { BsSearch } from 'react-icons/bs';\nimport { useEffect, useRef, useState } from 'react';\nimport { fetchSearch } from '../services/Api';\nimport { Spinner } from '../Loader/Loader';\nimport { MoviesList } from 'components/MovieList/MovieList';\nimport { toast } from 'react-toastify';\n\nexport const Searchbar = () => {\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    const fetchMoviesByValue = async () => {\n      setIsLoading(true);\n      try {\n        const data = await fetchSearch(value);\n        if (data.length === 0) {\n          toast.error(`Oops, i dont have this movie, sorry`, {\n            theme: 'colored',\n          });\n        }\n        setMovies(data.results);\n      } catch (error) {\n        console.log(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (value) {\n      fetchMoviesByValue();\n    }\n  }, [value]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setValue(inputRef.current.value);\n  };\n\n  return (\n    <>\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.buttonIcon}>\n            <BsSearch size=\"15px\" />\n          </button>\n\n          <input\n            ref={inputRef}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n      {isLoading && <Spinner />}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Movie_title__HKvwH\"};","import { Searchbar } from '../Searchbar/Searchbar';\nimport s from './Movie.module.css';\n\nfunction Movies() {\n  return (\n    <main>\n      <h2 className={s.title}>Search movie</h2>\n      <Searchbar />\n    </main>\n  );\n}\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__yjDCC\",\"item\":\"MovieList_item__tDivI\",\"title\":\"MovieList_title__QyMtJ\",\"link\":\"MovieList_link__+cn-g\",\"img\":\"MovieList_img__Tmz2C\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './MovieList.module.css';\nimport PropTypes from 'prop-types';\n\nexport function MoviesList({ movies }) {\n  const location = useLocation();\n\n  const elements = movies.map(({ id, title, backdrop_path }) => {\n    return (\n      <li className={s.item} key={id}>\n        <Link\n          to={`/movies/${id}`}\n          state={{ from: location }}\n          className={s.link}\n        >\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${backdrop_path}`}\n            alt={title}\n            className={s.img}\n            width=\"200\"\n          />\n          <p className={s.title}>{title}</p>\n        </Link>\n      </li>\n    );\n  });\n  return <ul className={s.list}>{elements}</ul>;\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n    })\n  ),\n};\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '42a5b39371cdee67f851a43d6e8fc07d';\n\nexport const fetchTrending = async () => {\n  const trending = await fetch(`\n${BASE_URL}trending/movie/week?api_key=${API_KEY}`);\n  if (!trending.ok) {\n    throw new Error(trending.status);\n  }\n  const trendingJson = await trending.json();\n  return trendingJson;\n};\n\nexport const fetchSearch = async (query, page = 1) => {\n  const search =\n    await fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}&include_adult=false\n    `);\n  if (!search.ok) {\n    throw new Error(search.status);\n  }\n  const searchJson = await search.json();\n  return searchJson;\n};\n\nexport const fetchDetails = async id => {\n  const details =\n    await fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US\n    `);\n  if (!details.ok) {\n    throw new Error(details.status);\n  }\n  const detailsJson = await details.json();\n  return detailsJson;\n};\n\nexport const fetchCredits = async id => {\n  const credits =\n    await fetch(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US\n    `);\n  if (!credits.ok) {\n    throw new Error(credits.status);\n  }\n  const creditsJson = await credits.json();\n  return creditsJson;\n};\n\nexport const fetchReviews = async id => {\n  const reviews =\n    await fetch(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1\n    `);\n  if (!reviews.ok) {\n    throw new Error(reviews.status);\n  }\n  const reviewsJson = await reviews.json();\n  return reviewsJson;\n};\n"],"names":["Searchbar","useState","value","setValue","movies","setMovies","isLoading","setIsLoading","inputRef","useRef","useEffect","fetchMoviesByValue","fetchSearch","data","length","toast","theme","results","console","log","message","className","s","onSubmit","e","preventDefault","current","type","size","ref","autoComplete","autoFocus","placeholder","MoviesList","location","useLocation","elements","map","id","title","backdrop_path","to","state","from","src","alt","width","BASE_URL","API_KEY","fetchTrending","fetch","trending","ok","Error","status","json","trendingJson","query","page","search","searchJson","fetchDetails","details","detailsJson","fetchCredits","credits","creditsJson","fetchReviews","reviews","reviewsJson"],"sourceRoot":""}